    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <div class="col-md-4 col-sm-4  ">
        <div class="x_panel">
            <div class="x_title">
                <h2>Configuración Inicial</h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                  <div class="form-group row">
                        <label for="staticEmail" class="col-sm-2 col-form-label"> <b>Proyecto :</b></label>
                        <label for="staticEmail" class="col-sm-8 col-form-label">{{informacion.year}}_{{informacion.code}} {{informacion.nombre}} </label>
                  </div>
                  <div class="form-group row">
                     <label for="staticEmail" class="col-sm-2 col-form-label"> <b>Código :</b></label>
                      <label for="staticEmail" class="col-sm-8 col-form-label">{{informacion.codigo}} </label>
                  </div>
                
                  <table class="table table-hover" name="tablaLicencias" id="tablaLicencias" style="width: 100%;">
                            <thead>
                                <tr>
                                        <th>Criterio</th>
                                        <th>Cargar / Revisar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                        <td>Empalmes</td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 1)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Empalme Malla</td>
                                        <td>
                                            <a href="#"  onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 2)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Anclaje</td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 3)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Empotramiento  </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 4)" >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Patas </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 5)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Laterales </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 6)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Largo Fierro </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 7)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                            </tbody>
                  </table>   
            </div>
        </div>
    </div>
    <div class="col-md-8" id="criterio">

    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="../../../template/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="../../../template/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script> 
<script src="../../../template/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>


<script>
    function cargaCriterioRevision( id , tipo)
    {

        let informacion = {  id,  tipo };

        
        $.ajax({
                        type: 'post',
                        url: '/revit/cargaCriterio',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#criterio').html(data); 
                        });



    }

    function cargaOpcionesObjeto (opt)
    {

        //alert("CArga opciopn" + opt);
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalme',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });

        



       // $('#cargaOpcion').html(opt);
        
    }


    function cargaOpcionDefecto (tipo , idCargada)
    {
        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo};


        
         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTabla',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });
    }

     function cargaOpcionIngresada (tipo , idCargada  , idCodigo)
    {
        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo,idCodigo};


        
         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTablaIngresada',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });
    }

    function cargaInformacionBD()
    {
        // Cargar la informacion.  
        // Codigo 
        // Tipo objeto 
        let codigo = $('#fcodigo').val();
        let tipo = $('#ftipo').val();
        let nombre = $('#fnombre').val();

       // console.log(tipo);

        // recorrer la informacion que tenemos en la tabla y pasar en un arreglo y recibirir en nodejs

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];
        elementos.forEach((elemento) => {
                //console.log(elemento.value);
                //console.log(elemento.id);
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  tipo ,nombre ,  infoData};
          

        //console.log(informacion);

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            //$('#cargaValores').html(data); 
                            cargaOpcionesObjeto(tipo)
                        });

    }

// Empalmes MALLAS
    function cargaOpcionEmpalmeMalla()
    {
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        if ($('#formula').is(":checked"))
            {
                // it is checked
                $("#formulaRevisar").css("display", "block");
                elementos.forEach((elemento) => {
                    
                    //elemento.prop("readonly", false);
                    if (elemento.id == "veces" || elemento.id == "suma")
                    {
                      $("#"+elemento.id).prop("readonly", false);
                    }
                    else
                    {
                        $("#"+elemento.id).prop("readonly", true);
                    }
                    
                    if (elemento.id == "fnombre")
                    {
                        $("#"+elemento.id).prop("readonly", false);
                    }
                   
                });
            }

        if ($('#personificada').is(":checked"))
            {
                 $("#formulaRevisar").css("display", "none");
                // it is checked
                elementos.forEach((elemento) => {
                    console.log(elemento.id);
                    //elemento.prop("readonly", false);
                    if (elemento.id == "veces" || elemento.id == "suma")
                    {
                      $("#"+elemento.id).prop("readonly", true);
                    }
                    else
                    {
                        $("#"+elemento.id).prop("readonly", false);
                    }
                    
                    if (elemento.id == "fnombre")
                    {
                        $("#"+elemento.id).prop("readonly", false);
                    }
                   
                });
            }
      
    }

    function cargaInfoTabla()
    {
        let veces = $("#veces").val();
        let suma = $("#suma").val();

        if (veces != "" && suma != "")
        {
             $("#tablaEmpalmesMallas tbody tr").each(function (index) {
                let mm,id;

                $(this).children("td").each(function (index2) {
                    //console.log(index2);

                  switch (index2) {
                      
                    case 1:
                          mm = $(this).text();
                    break;
                    case 3:
                        // console.log($(this));
                          id = $(this).text();
                    break;
                  }
				  });

                  //console.log(mm);
                $('#v_'+id).val(veces * mm / 10 + 10);

             });
            // recorrer la tabla
            //console.log("cargar la informacion");


        }

    }

    function cargaInformacionMallaEmpalmeBD()
    {

        let codigo = $('#fcodigo').val();
        let nombre = $('#fnombre').val();

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  nombre ,  infoData};


         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeMallaTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

    }

    function cargaInfoMallaEmpalme( id)
    {

        let informacion = {  id };

        $.ajax({
                        type: 'post',
                        url: '/revit/verTablaMallaEmpalme',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            //location.reload();
                            $('#cargaTablaMallaEmpalme').html(data); 
                        });


    }

    // Anclajes
    function cargaOpcionesObjetoAnclajes( opt )
    {
        //alert("CArga opciopn" + opt);
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesAnclaje',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });

        



       // $('#cargaOpcion').html(opt);

    }

    function cargaInformacionAnclajes()
    {
        let codigo = $('#fcodigo').val();
        let nombre = $('#fnombre').val();
        let ftipo   = $('#ftipo').val();
        let forigen   = $('#forigen').val();

 
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  nombre ,  infoData,ftipo , forigen};


        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesAnclajeTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });



    }

    // PATAS
    function cargaInformacionPatas()
    {
        let codigo = $('#fcodigo').val();
        let forigen   = $('#forigen').val();

 
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo, infoData, forigen};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionPatas',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

    }

    // Largo fe
    
    function cargaOpcionesObjetoLargoFe( opt )
    {
        
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesLargoFe',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });

    }

    function cargaInformacionLargosFe( opt )
    {

        let codigo = $('#fcodigo').val();
        let forigen   = $('#forigen').val();
        let ftipo   = $('#ftipo').val();
        

 
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo, infoData, ftipo, forigen};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionLargosFe',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

    }

    // empotramiento 

    function cargaOpcionesObjetoEmpotramiento ( opt )
    {
         //alert("CArga opciopn" + opt);
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpotramiento',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });
    }

    function cargaOpcionDefectoEmpotramiento( tipo , idCargada)
    {

        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTablaEmpotramiento',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });

    }


    function cargaInformacionEmpotramientoBD()
    {
        let codigo = $('#fcodigo').val();
        let tipo = $('#ftipo').val();
        let nombre = $('#fnombre').val();

       // console.log(tipo);

        // recorrer la informacion que tenemos en la tabla y pasar en un arreglo y recibirir en nodejs

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];
        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  tipo ,nombre ,  infoData};
          

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpotramientoTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            cargaOpcionesObjetoEmpotramiento(tipo)
                        });

    }

    function cargaOpcionIngresadaEmpotramiento( tipo , idCargada  , idCodigo )
    {

        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo,idCodigo};


        
         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpotramientoTablaIngresada',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });


    }

    function cargaInformacionLaterales()
    {
        let codigo = $('#fcodigo').val();

     // recorrer la informacion que tenemos en la tabla y pasar en un arreglo y recibirir en nodejs

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo, infoData};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaInformacionLaterales',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

    }
</script>