    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <div class="col-md-3">
        <div class="x_panel">
            <div class="x_title">
                <h2>Ingresar Conf. Inicial - Criterios de Armado</h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                  <div class="form-group row">
                        <label for="staticEmail" class="col-sm-3 col-form-label"> <b>Proyecto :</b></label>
                        <label for="staticEmail" class="col-sm-8 col-form-label">{{informacion.year}}_{{informacion.code}} {{informacion.nombre}} </label>
                  </div>
                  <div class="form-group row">
                       <label for="staticEmail" class="col-sm-3 col-form-label"> <b>CÃ³digo :</b></label>
                       <label for="staticEmail" class="col-sm-8 col-form-label">{{informacion.codigo}} </label>
                       <input type="hidden" id="idCodigo" name="idCodigo" value="{{id}}">
                  </div>
                
                  <table class="table table-hover" name="tablaLicencias" id="tablaLicencias" style="width: 100%;">
                            <thead>
                                <tr>
                                        <th>Criterio</th>
                                        <th>Cargar / Revisar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                        <td>Empalmes</td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 1)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Empalme Malla</td>
                                        <td>
                                            <a href="#"  onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 2)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Anclaje</td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 3)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Empotramiento  </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 4)" >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Patas </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 5)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Laterales </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 6)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                 <tr>
                                        <td>Largo Fierro </td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 7)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                                <tr>
                                        <td>Fe Vigas</td>
                                        <td>
                                            <a href="#" onclick="cargaCriterioRevision({{informacion.id_origen_proyecto}} , 8)">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                                            </svg>
                                            </a>
                                        </td>
                                </tr>
                            </tbody>
                  </table>   
            </div>
        </div>
    </div>
    <div class="col-md-8" id="criterio">

    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="../../../template/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="../../../template/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script> 
<script src="../../../template/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>



<script>
    function cargaCriterioRevision( id , tipo)
    {

        let informacion = {  id,  tipo };

        
        $.ajax({
                        type: 'post',
                        url: '/revit/cargaCriterio',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#criterio').html(data); 
                        });



    }

    function cargaOpcionesObjeto (opt)
    {

        //alert("CArga opciopn" + opt);
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalme',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });

        



       // $('#cargaOpcion').html(opt);
        
    }


    function cargaOpcionDefecto (tipo , idCargada)
    {
        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo};


        
         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTabla',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });
    }

     function cargaOpcionIngresada (tipo , idCargada  , idCodigo)
    {
        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo,idCodigo};


        
         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTablaIngresada',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });
    }

    function cargaInformacionBD()
    {
        // Cargar la informacion.  
        // Codigo 
        // Tipo objeto 
        let codigo = $('#fcodigo').val();
        let tipo = $('#ftipo').val();
        let nombre = $('#fnombre').val();

       // console.log(tipo);

        // recorrer la informacion que tenemos en la tabla y pasar en un arreglo y recibirir en nodejs

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];
        elementos.forEach((elemento) => {
                //console.log(elemento.value);
                //console.log(elemento.id);
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  tipo ,nombre ,  infoData};
          

        //console.log(informacion);

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            //$('#cargaValores').html(data); 
                            cargaOpcionesObjeto(tipo)
                        });

    }

// Empalmes MALLAS
    function cargaOpcionEmpalmeMalla()
    {
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        if ($('#formula').is(":checked"))
            {
                // it is checked
                $("#formulaRevisar").css("display", "block");
                elementos.forEach((elemento) => {
                    
                    //elemento.prop("readonly", false);
                    if (elemento.id == "veces" || elemento.id == "suma")
                    {
                      $("#"+elemento.id).prop("readonly", false);
                    }
                    else
                    {
                        $("#"+elemento.id).prop("readonly", true);
                    }
                    
                    if (elemento.id == "fnombre")
                    {
                        $("#"+elemento.id).prop("readonly", false);
                    }
                   
                });
            }

        if ($('#personificada').is(":checked"))
            {
                 $("#formulaRevisar").css("display", "none");
                // it is checked
                elementos.forEach((elemento) => {
                    console.log(elemento.id);
                    //elemento.prop("readonly", false);
                    if (elemento.id == "veces" || elemento.id == "suma")
                    {
                      $("#"+elemento.id).prop("readonly", true);
                    }
                    else
                    {
                        $("#"+elemento.id).prop("readonly", false);
                    }
                    
                    if (elemento.id == "fnombre")
                    {
                        $("#"+elemento.id).prop("readonly", false);
                    }
                   
                });
            }
      
    }

    function cargaInfoTabla()
    {
        let veces = $("#veces").val();
        let suma = $("#suma").val();

        if (veces != "" && suma != "")
        {
             $("#tablaEmpalmesMallas tbody tr").each(function (index) {
                let mm,id;

                $(this).children("td").each(function (index2) {
                    //console.log(index2);

                  switch (index2) {
                      
                    case 1:
                          mm = $(this).text();
                    break;
                    case 3:
                        // console.log($(this));
                          id = $(this).text();
                    break;
                  }
				  });

                  //console.log(mm);
                $('#v_'+id).val(veces * mm / 10 + 10);

             });
            // recorrer la tabla
            //console.log("cargar la informacion");


        }

    }

    function cargaInformacionMallaEmpalmeBD()
    {

        let codigo = $('#fcodigo').val();
        let nombre = $('#fnombre').val();

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  nombre ,  infoData};


         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeMallaTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            //location.reload();
                            

                                toastr.success('Criterio de Empalme Malla ingresado.', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                                let opt = $("#idCodigo").val();
                                cargaCriterioRevision(opt , 2);
                        });

    }

    function cargaInfoMallaEmpalme( id)
    {

        let informacion = {  id };

        $.ajax({
                        type: 'post',
                        url: '/revit/verTablaMallaEmpalme',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            //location.reload();
                            $('#cargaTablaMallaEmpalme').html(data); 
                        });


    }

    // Anclajes
    function cargaOpcionesObjetoAnclajes( opt )
    {
        //alert("CArga opciopn" + opt);
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesAnclaje',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });

        



       // $('#cargaOpcion').html(opt);

    }

    function cargaInformacionAnclajes()
    {
        let codigo = $('#fcodigo').val();
        let nombre = $('#fnombre').val();
        let ftipo   = $('#ftipo').val();
        let forigen   = $('#forigen').val();

 
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  nombre ,  infoData,ftipo , forigen};


        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesAnclajeTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            alert("Carga de anclajes, completa.");
                            location.reload();
                        });



    }

    // PATAS
    function cargaInformacionPatas()
    {
        let codigo = $('#fcodigo').val();
        let forigen   = $('#forigen').val();

 
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo, infoData, forigen};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionPatas',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            //alert("Carga realizada correctamente.")
                            //location.reload();
                            toastr.success('Criterio de Patas del proyecto ingresado.', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                        });

    }

    // Largo fe
    
    function cargaOpcionesObjetoLargoFe( opt )
    {
        
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesLargoFe',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });

    }

    function cargaInformacionLargosFe( opt )
    {

        let codigo = $('#fcodigo').val();
        let forigen   = $('#forigen').val();
        let ftipo   = $('#ftipo').val();
        

 
        
        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo, infoData, ftipo, forigen};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionLargosFe',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            alert("Carga de largos de fierros completada.")
                            location.reload();
                        });

    }

    // empotramiento 

    function cargaOpcionesObjetoEmpotramiento ( opt )
    {
         //alert("CArga opciopn" + opt);
        let idCodigo = $('#id_codigo').val();

        let informacion = {  idCodigo,  opt };

         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpotramiento',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaOpcion').html(data); 
                            $('#cargaValores').html(""); 
                        });
    }

    function cargaOpcionDefectoEmpotramiento( tipo , idCargada)
    {

        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpalmeTablaEmpotramiento',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });

    }


    function cargaInformacionEmpotramientoBD()
    {
        let codigo = $('#fcodigo').val();
        let tipo = $('#ftipo').val();
        let nombre = $('#fnombre').val();

       // console.log(tipo);

        // recorrer la informacion que tenemos en la tabla y pasar en un arreglo y recibirir en nodejs

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];
        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo,  tipo ,nombre ,  infoData};
          

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpotramientoTablaDatos',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                             toastr.success('Criterio de Empotramiento ingresado', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                            cargaOpcionesObjetoEmpotramiento(tipo)
                        });

    }

    function cargaOpcionIngresadaEmpotramiento( tipo , idCargada  , idCodigo )
    {

        let codigo = $('#codigo').val();

        let informacion = {  tipo,  idCargada ,codigo,idCodigo};


        
         $.ajax({
                        type: 'post',
                        url: '/revit/cargaOpcionesEmpotramientoTablaIngresada',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            $('#cargaValores').html(data); 
                        });


    }

    function cargaInformacionLaterales()
    {
        let codigo = $('#fcodigo').val();

     // recorrer la informacion que tenemos en la tabla y pasar en un arreglo y recibirir en nodejs

        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = {  codigo, infoData};

        $.ajax({
                        type: 'post',
                        url: '/revit/cargaInformacionLaterales',
                        data: informacion,
                        dataType: 'text'
                        })
                        .done(function (data) {
                            //alert("Carga de informacion completada.")
                            //location.reload();
                            toastr.success('Criterio de Laterales ingresado', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                        });

    }

    function cargarFeVigas()
    {

        let as1 = $('#as1').val();
        let as2 = $('#as2').val();
        let bs1 = $('#bs1').val();
        let bs2 = $('#bs2').val();
        let cs1 = $('#cs1').val();
        let cs2 = $('#cs2').val();

        let ai1 = $('#ai1').val();
        let ai2 = $('#ai2').val();
        let bi1 = $('#bi1').val();
        let bi2 = $('#bi2').val();
        let ci1 = $('#ci1').val();
        let ci2 = $('#ci2').val();

        let maxima = $('#maxima').val();
        let nombre = $('#nombre').val();
        let codigo = $('#fcodigo').val();


        let elementos = document.querySelectorAll("input[type=text], input[type=email]");

        let datos = [];

        elementos.forEach((elemento) => {
                datos.push({
                    id : elemento.id,
                    valor : elemento.value
                });
                
            });

        var infoData = JSON.stringify(datos);

        let informacion = { as1, as2, bs1,bs2,cs1,cs2,
                            ai1, ai2, bi1,bi2,ci1,ci2,  codigo, nombre,maxima, infoData};


        $.ajax({
                type: 'post',
                url: '/revit/cargaFeVigas',
                data: informacion,
                dataType: 'text'
                        })
                        .done(function (data) {
                            //location.reload();
                            toastr.success('Criterio de Fe vigas ingresado', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                            let opt = $("#idCodigo").val();
                            cargaCriterioRevision(opt , 2);
                        });
    

    }

    function EliminarRegistroEmpalme( id , nombre)
    {
        if (confirm("Â¿ EstÃ¡ seguro de elminar el empalme " + nombre + "?"))
        {
            let informacion = { id}
            $.ajax({
                type: 'post',
                url: '/revit/eliminarEmpalme',
                data: informacion,
                dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

        }
        

    }

    function EliminarRegistroFeVigas( id , nombre)
    {
        if (confirm("Â¿ EstÃ¡ seguro de elminar la configuracion de vigas :  " + nombre + " ?"))
        {
            let informacion = { id}
            $.ajax({
                type: 'post',
                url: '/revit/eliminarFeVigas',
                data: informacion,
                dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

        }
        

    }


    function EliminarRegistroEmpotramiento( id , nombre)
    {
        if (confirm("Â¿ EstÃ¡ seguro de elminar el empotramiento " + nombre + " ?"))
        {
            let informacion = { id}
            $.ajax({
                type: 'post',
                url: '/revit/eliminarEmpotramiento',
                data: informacion,
                dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

        }
        

    }

    function EliminarRegistroMallaEmpalme(id, nombre)
    {

        if (confirm("Â¿ EstÃ¡ seguro de elminar la Malla Empalme " + nombre + " ?"))
        {
            let informacion = { id}
            $.ajax({
                type: 'post',
                url: '/revit/eliminarMallaEmpalme',
                data: informacion,
                dataType: 'text'
                        })
                        .done(function (data) {
                            location.reload();
                        });

        }

    }

    function MarcaPredeterminadaEmpalme(id , nombre, codigo)
    {
        if (confirm("Â¿ EstÃ¡ seguro de marcar como predeterminada el empalme " + nombre+ "?"))
            {
                let informacion = { id , codigo}
                $.ajax({
                    type: 'post',
                    url: '/revit/EmpalmePredeterminado',
                    data: informacion,
                    dataType: 'text'
                            })
                            .done(function (data) {
                                //location.reload();
                                let opt = $("#presupuesto").val();

                                toastr.success('Criterio de empalme Predeterminado asignado', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                                cargaOpcionesObjeto(opt);
                            });

            }
    }
    
    function MarcaPredeterminadaEmpotramiento(id , nombre, codigo)
    {
        if (confirm("Â¿ EstÃ¡ seguro de marcar como predeterminada el empotramiento " + nombre + " ?"))
            {
                let informacion = { id , codigo}
                $.ajax({
                    type: 'post',
                    url: '/revit/EmpotramientoPredeterminado',
                    data: informacion,
                    dataType: 'text'
                            })
                            .done(function (data) {
                                //location.reload();
                                let opt = $("#presupuesto").val();

                                toastr.success('Criterio de Empotramiento Predeterminado asignado', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                                cargaOpcionesObjetoEmpotramiento(opt);
                            });

            }
    }


    function MarcaPredeterminadaMallaEmpalme(id , nombre, codigo)
    {
        if (confirm("Â¿ EstÃ¡ seguro de marcar como predeterminada la Malla Empalme " + nombre + " ? "))
            {
                let informacion = { id , codigo}
                $.ajax({
                    type: 'post',
                    url: '/revit/MallaEmpalmePredeterminado',
                    data: informacion,
                    dataType: 'text'
                            })
                            .done(function (data) {
                                //location.reload();
                                toastr.success('Criterio de Empalme Malla predeterminado asignado.', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                                let opt = $("#idCodigo").val();
                                cargaCriterioRevision(opt , 2);
                            });

            }
    }

    function MarcaPredeterminadaFeVigas(id , nombre, codigo)
    {
        if (confirm("Â¿ EstÃ¡ seguro de marcar como predeterminada la configuracion Fe Vigas " + nombre + " ?"))
            {
                let informacion = { id , codigo}
                $.ajax({
                    type: 'post',
                    url: '/revit/FeVigasPredeterminado',
                    data: informacion,
                    dataType: 'text'
                            })
                            .done(function (data) {
                                //location.reload();
                                toastr.success('Criterio de Fe Vigas Predeterminado asignado', 'InformaciÃ³n', {
                                    "progressBar": true
                                });
                                let opt = $("#idCodigo").val();
                                cargaCriterioRevision(opt , 8);
                            });

            }
    }

    

    function cargaValoresFeVigas( id )
    {

        //console.log(id);
        let informacion = { id }

         $.ajax({
                    type: 'post',
                    url: '/revit/cargaValoresFeVigas',
                    data: informacion,
                    dataType: 'text'
                            })
                            .done(function (data) {
                                //location.reload();
                                let info = JSON.parse(data);
                                // cargar las variables. 

                                if (info.detalle.length === 0)
                                {
                                        let elementos = document.querySelectorAll("input[type=text]");

                                        let datos = [];

                                        elementos.forEach((elemento) => {
                                               
                                               //console.log(elemento);
                                               //console.log(elemento.id);
                                               let aux = elemento.id.split('_');
                                               
                                               if (aux.length === 2)
                                               {
                                                elemento.value = '';
                                               }
                                            });
                                }
                                
                                $("#as1").val(info.general.pata_sup_izq_1);
                                $("#as2").val(info.general.pata_sup_izq_2);

                                $("#bs1").val(info.general.tramo_sup_izq_1);
                                $("#bs2").val(info.general.tramo_sup_izq_2);

                                $("#cs1").val(info.general.pata_sup_der_1);
                                $("#cs2").val(info.general.pata_sup_der_2);

                                $("#ai1").val(info.general.pata_inf_izq_1);
                                $("#ai2").val(info.general.pata_inf_izq_2);

                                $("#bi1").val(info.general.tramo_inf_izq_1);
                                $("#bi2").val(info.general.tramo_inf_izq_2);

                                $("#ci1").val(info.general.pata_inf_der_1);
                                $("#ci2").val(info.general.pata_inf_der_2);

                                $("#maxima").val(info.general.largo_l1);

                                // FOREACH
                                info.detalle.forEach(function(element) {
                                    $("#v_"+element.id_fierro).val(element.valor);
                                });
                            });

    }


//
</script>